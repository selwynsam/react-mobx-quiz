(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t){},132:function(e,t,a){"use strict";a.r(t);var n,o,r,i,s,c,u,l,p=a(0),m=a.n(p),d=a(25),f=a.n(d),g=(a(72),a(14)),h=a(63),y=a(15),b=a(66),q=a(22),w=a(12),E=a(13),z=a(10),O=(a(73),a(3)),C=a(58),v=a.n(C).a.create({baseURL:"https://opentdb.com/"}),j=new function e(){Object(w.a)(this,e),this.get=function(e,t){return v.get(e,{params:t})}},D={quizStore:new(n=function(){function e(){Object(w.a)(this,e),Object(q.a)(this,"quizData",o,this),Object(q.a)(this,"quizCategories",r,this),Object(q.a)(this,"quizConfigData",i,this),Object(q.a)(this,"questionData",s,this),Object(q.a)(this,"questionInc",c,this),this.shuffleArray=function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}return e}}return Object(E.a)(e,[{key:"getQuizCategories",value:function(){var e=this;j.get("api_category.php").then(function(t){e.quizCategories=t.data.trivia_categories})}},{key:"getCategoryQuestionCount",value:function(){var e=this;j.get("api_count.php",{category:this.quizConfigData.categoryId}).then(function(t){e.quizConfigData.totalQuestions=t.data.category_question_count.total_question_count})}},{key:"getQuizQuestions",value:function(){var e=this,t={amount:this.quizConfigData.totalQuestionsToAnswer,category:this.quizConfigData.categoryId};j.get("api.php",t).then(function(t){if(0===t.data.response_code)e.quizData=t.data.results,e.loadQuestion(e.questionInc),e.questionData.startTimer=!0;else switch(t.data.response_code){case 1:alert("No Results Could not return results.");break;case 2:alert("Invalid Parameter Contains an invalid parameter. Arguements passed in aren't valid");break;default:alert("Failed to fetch questions")}})}},{key:"loadQuestion",value:function(){var e=this.questionInc;if(e<=this.quizData.length-1){var t=this.questionData,a=[].concat(Object(b.a)(this.quizData[e].incorrect_answers),[this.quizData[e].correct_answer]);return t.answersOptions=this.shuffleArray(a),t.correctAnswer=this.quizData[e].correct_answer,t.correctAnswerId=t.answersOptions.indexOf(t.correctAnswer),t.question=this.quizData[e].question,t.difficulty=this.quizData[e].difficulty,this.questionInc++,!0}return this.questionData.startTimer=!1,!1}},{key:"checkAnswer",value:function(e){var t=this.questionData;e===t.correctAnswerId&&(t.score=t.score+1)}},{key:"reset",value:function(){this.quizData=[],this.quizCategories=[],this.quizConfigData={name:"User",categoryId:null,categoryName:"Any",totalQuestions:30,totalQuestionsToAnswer:30,timeInMilliseconds:15e4},this.questionData={question:null,correctAnswerId:null,difficulty:null,answersOptions:[],correctAnswer:null,score:0,startTimer:!1},this.questionInc=0}},{key:"totalTime",set:function(e){this.quizConfigData.timeInMilliseconds=5e3*e},get:function(){return(this.quizConfigData.timeInMilliseconds/6e4).toFixed(1)}}]),e}(),o=Object(z.a)(n.prototype,"quizData",[O.j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),r=Object(z.a)(n.prototype,"quizCategories",[O.j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=Object(z.a)(n.prototype,"quizConfigData",[O.j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{name:"User",categoryId:null,categoryName:"Any",totalQuestions:30,totalQuestionsToAnswer:30,timeInMilliseconds:15e4}}}),s=Object(z.a)(n.prototype,"questionData",[O.j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{question:null,correctAnswerId:null,difficulty:null,answersOptions:[],correctAnswer:null,score:0,startTimer:!1}}}),c=Object(z.a)(n.prototype,"questionInc",[O.j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(z.a)(n.prototype,"getQuizCategories",[O.b],Object.getOwnPropertyDescriptor(n.prototype,"getQuizCategories"),n.prototype),Object(z.a)(n.prototype,"getCategoryQuestionCount",[O.b],Object.getOwnPropertyDescriptor(n.prototype,"getCategoryQuestionCount"),n.prototype),Object(z.a)(n.prototype,"getQuizQuestions",[O.b],Object.getOwnPropertyDescriptor(n.prototype,"getQuizQuestions"),n.prototype),Object(z.a)(n.prototype,"loadQuestion",[O.b],Object.getOwnPropertyDescriptor(n.prototype,"loadQuestion"),n.prototype),Object(z.a)(n.prototype,"checkAnswer",[O.b],Object.getOwnPropertyDescriptor(n.prototype,"checkAnswer"),n.prototype),Object(z.a)(n.prototype,"reset",[O.b],Object.getOwnPropertyDescriptor(n.prototype,"reset"),n.prototype),Object(z.a)(n.prototype,"totalTime",[O.c],Object.getOwnPropertyDescriptor(n.prototype,"totalTime"),n.prototype),n)},Q=a(20),A=a(19),I=a(21),T=a(135),N=a(133),S=a(60),k=a(137),x=(a(90),a(27)),P=a.n(x),_=function(e){return m.a.createElement(N.a,null,m.a.createElement(S.a,{md:{span:6,offset:3},className:"p-0"},m.a.createElement("div",{className:"question-container"},P()(e.question)),m.a.createElement("div",{className:"wave"})))},M=function(e){var t=e.options.map(function(t,a){return[m.a.createElement("li",{key:a,className:e.optionClass(a),onClick:e.clickEvent.bind(void 0,a)},P()(t))]});return m.a.createElement("ul",{className:"answers-container"},t)},L=function(e){return m.a.createElement(N.a,null,m.a.createElement(S.a,{md:{span:6,offset:3},className:"p-0 game-level-info"},"<",e.difficulty," ",m.a.createElement("b",null,"Game"),">"))},B=a(61),G=function(e){function t(){return Object(w.a)(this,t),Object(Q.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(E.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!1}},{key:"render",value:function(){return m.a.createElement(N.a,null,m.a.createElement(S.a,{md:{span:6,offset:3},className:"p-0 timer-section"},m.a.createElement("b",null,"Time Remaining: "),m.a.createElement(B.a,{date:Date.now()+this.props.duration,zeroPadTime:2,autoStart:this.props.startTimer,onComplete:this.props.onComplete,pause:!0})))}}]),t}(p.Component),H=a(134),R=function(e){var t=[{colName:"Name",value:e.quizConfigData.name},{colName:"Quiz Categoryme",value:e.quizConfigData.categoryName},{colName:"Correct Answers",value:e.score},{colName:"Total Questions",value:e.quizConfigData.totalQuestionsToAnswer}].map(function(e,t){return m.a.createElement("tr",{key:t},m.a.createElement("td",null,e.colName),m.a.createElement("td",null,e.value))});return m.a.createElement(H.a,{responsive:!0},m.a.createElement("tbody",null,t))},U=Object(g.b)("quizStore")(u=Object(g.c)(u=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(Q.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(o)))).state={selectedAnswerId:null,isAnswerSelected:!1,showNextQuestionBtn:!1,timerDuration:0,startTimer:!1,gameInProgress:!0},a.loadNextQuestion=function(){var e=a.props.quizStore.loadQuestion();a.setState({gameInProgress:e}),a.clearState()},a.selectAnswer=function(e){a.state.isAnswerSelected||(a.setState({isAnswerSelected:!0,selectedAnswerId:e,showNextQuestionBtn:!0}),a.props.quizStore.checkAnswer(e))},a.getOptionsCLass=function(e){if(a.state.isAnswerSelected){if(e===a.props.quizStore.questionData.correctAnswerId)return"correctOptionClass";if(e===a.state.selectedAnswerId)return"wrongOptionClass"}},a.clearState=function(){a.setState({selectedAnswerId:null,isAnswerSelected:!1,showNextQuestionBtn:!1,timerDuration:0,startTimer:!1})},a.onTimerEnd=function(e){a.setState({gameInProgress:!1}),a.clearState()},a}return Object(I.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.quizStore.getQuizQuestions()}},{key:"render",value:function(){var e=this.props.quizStore,t=e.questionData,a=e.quizConfigData;return m.a.createElement(T.a,null,this.state.gameInProgress?m.a.createElement("div",null,m.a.createElement(L,{difficulty:t.difficulty}),t.startTimer&&m.a.createElement(G,{duration:a.timeInMilliseconds,onComplete:this.onTimerEnd}),m.a.createElement(_,{question:t.question}),m.a.createElement(N.a,null,m.a.createElement(S.a,{md:{span:6,offset:3},className:"p-0"},m.a.createElement(M,{options:t.answersOptions,clickEvent:this.selectAnswer,optionClass:this.getOptionsCLass}),this.state.showNextQuestionBtn?m.a.createElement(k.a,{variant:"primary",className:"next-question",onClick:this.loadNextQuestion},"NEXT QUESTION"):null,m.a.createElement("div",{className:"score"},"SCORE: ",t.score)))):m.a.createElement("div",null,m.a.createElement(N.a,null,m.a.createElement(S.a,{md:{span:6,offset:3},className:"score-card"},m.a.createElement(N.a,{className:"score-card-header"},"Quiz Result"),m.a.createElement(N.a,null,m.a.createElement(R,{quizConfigData:a,score:t.score}))))))}}]),t}(p.Component))||u)||u,F=a(16),J=a(136),W=Object(g.b)("quizStore")(l=Object(g.c)(l=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(Q.a)(this,Object(A.a)(t).call(this,e))).inputChangeHandler=function(e){var t=a.props.quizStore.quizConfigData;t[e.target.id]=e.target.value,"categoryId"===e.target.id&&e.target.value>0&&(t.categoryName=e.target[e.target.selectedIndex].getAttribute("data-categoryname"),a.props.quizStore.getCategoryQuestionCount()),"totalQuestionsToAnswer"===e.target.id&&e.target.value>0&&(a.props.quizStore.totalTime=t.totalQuestionsToAnswer)},a.inputChangeHandler.bind(Object(F.a)(a)),a.props.quizStore.quizData.length>0&&a.props.quizStore.reset(),a}return Object(I.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.quizStore.getQuizCategories()}},{key:"render",value:function(){var e=this,t=this.props.quizStore,a=t.quizConfigData,n=t.quizCategories;return m.a.createElement(T.a,null,m.a.createElement(N.a,null,m.a.createElement(S.a,{md:{span:6,offset:3},className:"p-0"},m.a.createElement(J.a,{id:"quizForm"},m.a.createElement(J.a.Group,{controlId:"name"},m.a.createElement(J.a.Label,null,"Name"),m.a.createElement(J.a.Control,{type:"text",placeholder:"Enter your name",onChange:this.inputChangeHandler,required:!0})),m.a.createElement(J.a.Group,{controlId:"categoryId"},m.a.createElement(J.a.Label,null,"Select Category"),m.a.createElement(J.a.Control,{as:"select",onChange:this.inputChangeHandler},m.a.createElement("option",{key:0,value:0},"Any"),n.map(function(e,t){return m.a.createElement("option",{key:t+1,"data-categoryname":e.name,value:e.id},e.name)}))),m.a.createElement(J.a.Group,{controlId:"totalQuestionsToAnswer"},m.a.createElement(J.a.Label,null,"Total Questions"),m.a.createElement(J.a.Control,{type:"number",min:10,max:a.totalQuestions,value:a.totalQuestionsToAnswer,placeholder:"Total Questions",onChange:this.inputChangeHandler}),m.a.createElement(J.a.Text,{className:"text-muted"},"You can reduce the number of questions you want to answer ( max = ",a.totalQuestions," ).")),m.a.createElement(J.a.Group,{controlId:"totalTime"},m.a.createElement(J.a.Label,null,"Total Time"),m.a.createElement(J.a.Control,{type:"text",value:"".concat(this.props.quizStore.totalTime," minutes"),placeholder:"Total Time",readOnly:!0})),m.a.createElement(k.a,{variant:"primary",type:"button",onClick:function(t){e.props.history.push("/quiz")}},"Submit")))))}}]),t}(p.Component))||l)||l;var X=function(){return m.a.createElement(g.a,D,m.a.createElement(h.a,{basename:"/react-mobx-quiz"},m.a.createElement(y.c,null,m.a.createElement(y.a,{exact:!0,path:"/",component:W}),m.a.createElement(y.a,{exact:!0,path:"/quiz",component:U}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));f.a.render(m.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},67:function(e,t,a){e.exports=a(132)},72:function(e,t,a){},90:function(e,t,a){}},[[67,1,2]]]);
//# sourceMappingURL=main.71e222c1.chunk.js.map